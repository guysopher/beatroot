/*
 * jPlayer Plugin for jQuery JavaScript Library
 * http://www.jplayer.org
 *
 * Copyright (c) 2009 - 2011 Happyworm Ltd
 * Dual licensed under the MIT and GPL licenses.
 *  - http://www.opensource.org/licenses/mit-license.php
 *  - http://www.gnu.org/copyleft/gpl.html
 *
 * Author: Mark J Panaghiston
 * Version: 2.0.13
 * Date: 27th May 2011
 */

(function(b,h){b.fn.jPlayer=function(a){var c=typeof a==="string",d=Array.prototype.slice.call(arguments,1),e=this,a=!c&&d.length?b.extend.apply(null,[!0,a].concat(d)):a;if(c&&a.charAt(0)==="_")return e;c?this.each(function(){var c=b.data(this,"jPlayer"),f=c&&b.isFunction(c[a])?c[a].apply(c,d):c;if(f!==c&&f!==h)return e=f,!1}):this.each(function(){var c=b.data(this,"jPlayer");c?c.option(a||{}):b.data(this,"jPlayer",new b.jPlayer(a,this))});return e};b.jPlayer=function(a,c){if(arguments.length){this.element=
b(c);this.options=b.extend(!0,{},this.options,a);var d=this;this.element.bind("remove.jPlayer",function(){d.destroy()});this._init()}};b.jPlayer.emulateMethods="load play pause";b.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";b.jPlayer.emulateOptions="muted volume";b.jPlayer.reservedEvent="ready resize error warning";b.jPlayer.event={ready:"jPlayer_ready",resize:"jPlayer_resize",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",
progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",
volumechange:"jPlayer_volumechange"};b.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplaythrough","ratechange"];b.jPlayer.pause=function(){b.each(b.jPlayer.prototype.instances,function(a,c){c.data("jPlayer").status.srcSet&&c.jPlayer("pause")})};b.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};b.jPlayer.convertTime=function(a){var a=new Date(a*1E3),c=a.getUTCHours(),d=a.getUTCMinutes(),
a=a.getUTCSeconds(),c=b.jPlayer.timeFormat.padHour&&c<10?"0"+c:c,d=b.jPlayer.timeFormat.padMin&&d<10?"0"+d:d,a=b.jPlayer.timeFormat.padSec&&a<10?"0"+a:a;return(b.jPlayer.timeFormat.showHour?c+b.jPlayer.timeFormat.sepHour:"")+(b.jPlayer.timeFormat.showMin?d+b.jPlayer.timeFormat.sepMin:"")+(b.jPlayer.timeFormat.showSec?a+b.jPlayer.timeFormat.sepSec:"")};b.jPlayer.uaMatch=function(a){var a=a.toLowerCase(),c=/(opera)(?:.*version)?[ \/]([\w.]+)/,b=/(msie) ([\w.]+)/,e=/(mozilla)(?:.*? rv:([\w.]+))?/,a=
/(webkit)[ \/]([\w.]+)/.exec(a)||c.exec(a)||b.exec(a)||a.indexOf("compatible")<0&&e.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};b.jPlayer.browser={};var k=b.jPlayer.uaMatch(navigator.userAgent);if(k.browser)b.jPlayer.browser[k.browser]=!0,b.jPlayer.browser.version=k.version;b.jPlayer.prototype={count:0,version:{script:"2.0.13",needFlash:"2.0.9",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:0.8,muted:!1,wmode:"window",backgroundColor:"#000000",
cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen"},fullScreen:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",
height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"90%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,
flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},
ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"}},_init:function(){var a=this;this.element.empty();this.status=b.extend({},this.status);this.internal=b.extend({},this.internal);this.internal.domNode=this.element.get(0);this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html={};this.html.audio={};this.html.video=
{};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);b.each(this.options.supplied.toLowerCase().split(","),function(c,d){var e=d.replace(/^\s+|\s+$/g,"");if(a.format[e]){var i=!1;b.each(a.formats,function(a,c){if(e===c)return i=!0,!1});i||a.formats.push(e)}});b.each(this.options.solution.toLowerCase().split(","),function(c,d){var e=d.replace(/^\s+|\s+$/g,"");if(a.solution[e]){var i=!1;b.each(a.solutions,function(a,
c){if(e===c)return i=!0,!1});i||a.solutions.push(e)}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;this.element.attr("id")===""&&this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);this.internal.self=b.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=b.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:h});this.internal.video=b.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:h});this.internal.flash=
b.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:h,swf:this.options.swfPath+(this.options.swfPath!==""&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"Jplayer.swf"});this.internal.poster=b.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:h});b.each(b.jPlayer.event,function(c,b){a.options[c]!==h&&(a.element.bind(b+".jPlayer",a.options[c]),a.options[c]=h)});this.require.audio=!1;this.require.video=!1;b.each(this.formats,function(c,b){a.require[a.format[b].media]=!0});this.options=
this.require.video?b.extend(!0,{},this.optionsVideo,this.options):b.extend(!0,{},this.optionsAudio,this.options);this._setSize();this.htmlElement.poster=document.createElement("img");this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){(!a.status.video||a.status.waitForPlay)&&a.internal.poster.jq.show()};this.element.append(this.htmlElement.poster);this.internal.poster.jq=b("#"+this.internal.poster.id);this.internal.poster.jq.css({width:this.status.width,height:this.status.height});
this.internal.poster.jq.hide();this.html.audio.available=!1;if(this.require.audio)this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType;this.html.video.available=!1;if(this.require.video)this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType;this.flash.available=this._checkForFlash(10);
this.html.canPlay={};this.flash.canPlay={};b.each(this.formats,function(c,b){a.html.canPlay[b]=a.html[a.format[b].media].available&&""!==a.htmlElement[a.format[b].media].canPlayType(a.format[b].codec);a.flash.canPlay[b]=a.format[b].flashCanPlay&&a.flash.available});this.html.desired=!1;this.flash.desired=!1;b.each(this.solutions,function(c,d){if(c===0)a[d].desired=!0;else{var e=!1,i=!1;b.each(a.formats,function(c,b){a[a.solutions[0]].canPlay[b]&&(a.format[b].media==="video"?i=!0:e=!0)});a[d].desired=
a.require.audio&&!e||a.require.video&&!i}});this.html.support={};this.flash.support={};b.each(this.formats,function(c,b){a.html.support[b]=a.html.canPlay[b]&&a.html.desired;a.flash.support[b]=a.flash.canPlay[b]&&a.flash.desired});this.html.used=!1;this.flash.used=!1;b.each(this.solutions,function(c,d){b.each(a.formats,function(c,b){if(a[d].support[b])return a[d].used=!0,!1})});this.html.active=!1;this.html.audio.gate=!1;this.html.video.gate=!1;this.flash.active=!1;this.flash.gate=!1;this._cssSelectorAncestor(this.options.cssSelectorAncestor);
!this.html.used&&!this.flash.used&&this._error({type:b.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SOLUTION,hint:b.jPlayer.errorHint.NO_SOLUTION});if(this.flash.used){var c,d="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(b.browser.msie&&Number(b.browser.version)<=8){d=['<param name="movie" value="'+this.internal.flash.swf+
'" />','<param name="FlashVars" value="'+d+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];c=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>');for(var e=0;e<d.length;e++)c.appendChild(document.createElement(d[e]))}else e=function(a,c,b){var d=document.createElement("param");
d.setAttribute("name",c);d.setAttribute("value",b);a.appendChild(d)},c=document.createElement("object"),c.setAttribute("id",this.internal.flash.id),c.setAttribute("data",this.internal.flash.swf),c.setAttribute("type","application/x-shockwave-flash"),c.setAttribute("width","1"),c.setAttribute("height","1"),e(c,"flashvars",d),e(c,"allowscriptaccess","always"),e(c,"bgcolor",this.options.backgroundColor),e(c,"wmode",this.options.wmode);this.element.append(c);this.internal.flash.jq=b(c)}if(this.html.used){if(this.html.audio.available)this._addHtmlEventListeners(this.htmlElement.audio,
this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=b("#"+this.internal.audio.id);if(this.html.video.available)this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=b("#"+this.internal.video.id),this.internal.video.jq.css({width:"0px",height:"0px"})}this.options.emulateHtml&&this._emulateHtmlBridge();this.html.used&&!this.flash.used&&window.setTimeout(function(){a.internal.ready=!0;a.version.flash=
"n/a";a._trigger(b.jPlayer.event.ready)},100);this._updateInterface();this._updateButtons(!1);this._updateVolume(this.options.volume);this._updateMute(this.options.muted);this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();b.jPlayer.prototype.count++},destroy:function(){this._resetStatus();this._updateInterface();this._seeked();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");this.status.srcSet&&this.pause();b.each(this.css.jq,
function(a,c){c.length&&c.unbind(".jPlayer")});this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();this.instances[this.internal.instance]=h},enable:function(){},disable:function(){},_addHtmlEventListeners:function(a,c){var d=this;a.preload=this.options.preload;a.muted=this.options.muted;a.volume=this.options.volume;a.addEventListener("progress",function(){c.gate&&!d.status.waitForLoad&&(d._getHtmlStatus(a),d._updateInterface(),
d._trigger(b.jPlayer.event.progress))},!1);a.addEventListener("timeupdate",function(){c.gate&&!d.status.waitForLoad&&(d._getHtmlStatus(a),d._updateInterface(),d._trigger(b.jPlayer.event.timeupdate))},!1);a.addEventListener("durationchange",function(){if(c.gate&&!d.status.waitForLoad)d.status.duration=this.duration,d._getHtmlStatus(a),d._updateInterface(),d._trigger(b.jPlayer.event.durationchange)},!1);a.addEventListener("play",function(){c.gate&&!d.status.waitForLoad&&(d._updateButtons(!0),d._trigger(b.jPlayer.event.play))},
!1);a.addEventListener("playing",function(){c.gate&&!d.status.waitForLoad&&(d._updateButtons(!0),d._seeked(),d._trigger(b.jPlayer.event.playing))},!1);a.addEventListener("pause",function(){c.gate&&!d.status.waitForLoad&&(d._updateButtons(!1),d._trigger(b.jPlayer.event.pause))},!1);a.addEventListener("waiting",function(){c.gate&&!d.status.waitForLoad&&(d._seeking(),d._trigger(b.jPlayer.event.waiting))},!1);a.addEventListener("canplay",function(){if(c.gate&&!d.status.waitForLoad)a.volume=d._volumeFix(d.options.volume),
d._trigger(b.jPlayer.event.canplay)},!1);a.addEventListener("seeking",function(){c.gate&&!d.status.waitForLoad&&(d._seeking(),d._trigger(b.jPlayer.event.seeking))},!1);a.addEventListener("seeked",function(){c.gate&&!d.status.waitForLoad&&(d._seeked(),d._trigger(b.jPlayer.event.seeked))},!1);a.addEventListener("suspend",function(){c.gate&&!d.status.waitForLoad&&(d._seeked(),d._trigger(b.jPlayer.event.suspend))},!1);a.addEventListener("ended",function(){if(c.gate&&!d.status.waitForLoad){if(!b.jPlayer.browser.webkit)d.htmlElement.media.currentTime=
0;d.htmlElement.media.pause();d._updateButtons(!1);d._getHtmlStatus(a,!0);d._updateInterface();d._trigger(b.jPlayer.event.ended)}},!1);a.addEventListener("error",function(){if(c.gate&&!d.status.waitForLoad&&(d._updateButtons(!1),d._seeked(),d.status.srcSet))clearTimeout(d.internal.htmlDlyCmdId),d.status.waitForLoad=!0,d.status.waitForPlay=!0,d.status.video&&d.internal.video.jq.css({width:"0px",height:"0px"}),d._validString(d.status.media.poster)&&d.internal.poster.jq.show(),d.css.jq.videoPlay.length&&
d.css.jq.videoPlay.show(),d._error({type:b.jPlayer.error.URL,context:d.status.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL})},!1);b.each(b.jPlayer.htmlEvent,function(e,g){a.addEventListener(this,function(){c.gate&&!d.status.waitForLoad&&d._trigger(b.jPlayer.event[g])},!1)})},_getHtmlStatus:function(a,c){var b=0,e=0,g=0,f=0;if(a.duration)this.status.duration=a.duration;b=a.currentTime;e=this.status.duration>0?100*b/this.status.duration:0;typeof a.seekable==="object"&&a.seekable.length>
0?(g=this.status.duration>0?100*a.seekable.end(a.seekable.length-1)/this.status.duration:100,f=100*a.currentTime/a.seekable.end(a.seekable.length-1)):(g=100,f=e);c&&(e=f=b=0);this.status.seekPercent=g;this.status.currentPercentRelative=f;this.status.currentPercentAbsolute=e;this.status.currentTime=b;this.status.readyState=a.readyState;this.status.networkState=a.networkState;this.status.playbackRate=a.playbackRate;this.status.ended=a.ended},_resetStatus:function(){this.status=b.extend({},this.status,
b.jPlayer.prototype.status)},_trigger:function(a,c,d){a=b.Event(a);a.jPlayer={};a.jPlayer.version=b.extend({},this.version);a.jPlayer.options=b.extend(!0,{},this.options);a.jPlayer.status=b.extend(!0,{},this.status);a.jPlayer.html=b.extend(!0,{},this.html);a.jPlayer.flash=b.extend(!0,{},this.flash);if(c)a.jPlayer.error=b.extend({},c);if(d)a.jPlayer.warning=b.extend({},d);this.element.trigger(a)},jPlayerFlashEvent:function(a,c){if(a===b.jPlayer.event.ready&&!this.internal.ready)this.internal.ready=
!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=c.version,this.version.needFlash!==this.version.flash&&this._error({type:b.jPlayer.error.VERSION,context:this.version.flash,message:b.jPlayer.errorMsg.VERSION+this.version.flash,hint:b.jPlayer.errorHint.VERSION}),this._trigger(a);if(this.flash.gate)switch(a){case b.jPlayer.event.progress:this._getFlashStatus(c);this._updateInterface();this._trigger(a);break;case b.jPlayer.event.timeupdate:this._getFlashStatus(c);this._updateInterface();
this._trigger(a);break;case b.jPlayer.event.play:this._seeked();this._updateButtons(!0);this._trigger(a);break;case b.jPlayer.event.pause:this._updateButtons(!1);this._trigger(a);break;case b.jPlayer.event.ended:this._updateButtons(!1);this._trigger(a);break;case b.jPlayer.event.error:this.status.waitForLoad=!0;this.status.waitForPlay=!0;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&
this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._error({type:b.jPlayer.error.URL,context:c.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL});break;case b.jPlayer.event.seeking:this._seeking();this._trigger(a);break;case b.jPlayer.event.seeked:this._seeked();this._trigger(a);break;case b.jPlayer.event.ready:break;default:this._trigger(a)}return!1},_getFlashStatus:function(a){this.status.seekPercent=
a.seekPercent;this.status.currentPercentRelative=a.currentPercentRelative;this.status.currentPercentAbsolute=a.currentPercentAbsolute;this.status.currentTime=a.currentTime;this.status.duration=a.duration;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_updateButtons:function(a){this.status.paused=!a;this.css.jq.play.length&&this.css.jq.pause.length&&(a?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()))},
_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&this.css.jq.playBar.width(this.status.currentPercentRelative+"%");this.css.jq.currentTime.length&&this.css.jq.currentTime.text(b.jPlayer.convertTime(this.status.currentTime));this.css.jq.duration.length&&this.css.jq.duration.text(b.jPlayer.convertTime(this.status.duration))},_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},
_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},setMedia:function(a){var c=this;this._seeked();clearTimeout(this.internal.htmlDlyCmdId);var d=this.html.audio.gate,e=this.html.video.gate,g=!1;b.each(this.formats,function(f,h){var i=c.format[h].media==="video";b.each(c.solutions,function(b,f){if(c[f].support[h]&&c._validString(a[h])){var j=f==="html";i?j?(c.html.audio.gate=!1,c.html.video.gate=!0,c.flash.gate=!1):(c.html.audio.gate=!1,c.html.video.gate=
!1,c.flash.gate=!0):j?(c.html.audio.gate=!0,c.html.video.gate=!1,c.flash.gate=!1):(c.html.audio.gate=!1,c.html.video.gate=!1,c.flash.gate=!0);c.flash.active||c.html.active&&c.flash.gate||d===c.html.audio.gate&&e===c.html.video.gate?c.clearMedia():d!==c.html.audio.gate&&e!==c.html.video.gate&&(c._html_pause(),c.status.video&&c.internal.video.jq.css({width:"0px",height:"0px"}),c._resetStatus());i?(j?(c._html_setVideo(a),c.html.active=!0,c.flash.active=!1):(c._flash_setVideo(a),c.html.active=!1,c.flash.active=
!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.show(),c.status.video=!0):(j?(c._html_setAudio(a),c.html.active=!0,c.flash.active=!1):(c._flash_setAudio(a),c.html.active=!1,c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.hide(),c.status.video=!1);g=!0;return!1}});if(g)return!1});g?(this._validString(a.poster)?this.htmlElement.poster.src!==a.poster?this.htmlElement.poster.src=a.poster:this.internal.poster.jq.show():this.internal.poster.jq.hide(),this.status.srcSet=!0,this.status.media=
b.extend({},a),this._updateButtons(!1),this._updateInterface()):(this.status.srcSet&&!this.status.waitForPlay&&this.pause(),this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1,this.html.active=!1,this.flash.active=!1,this._resetStatus(),this._updateInterface(),this._updateButtons(!1),this.internal.poster.jq.hide(),this.html.used&&this.require.video&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.flash.used&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._error({type:b.jPlayer.error.NO_SUPPORT,
context:"{supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SUPPORT,hint:b.jPlayer.errorHint.NO_SUPPORT}))},clearMedia:function(){this._resetStatus();this._updateButtons(!1);this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},play:function(a){a=
typeof a==="number"?a:NaN;this.status.srcSet?this.html.active?this._html_play(a):this.flash.active&&this._flash_play(a):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(a){a=typeof a==="number"?a:NaN;this.status.srcSet?this.html.active?this._html_pause(a):this.flash.active&&this._flash_pause(a):this._urlNotSetError("pause")},pauseOthers:function(){var a=this;b.each(this.instances,function(c,b){a.element!==b&&b.data("jPlayer").status.srcSet&&b.jPlayer("pause")})},stop:function(){this.status.srcSet?
this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(a){a=this._limitValue(a,0,100);this.status.srcSet?this.html.active?this._html_playHead(a):this.flash.active&&this._flash_playHead(a):this._urlNotSetError("playHead")},_muted:function(a){this.options.muted=a;this.html.used&&this._html_mute(a);this.flash.used&&this._flash_mute(a);this._updateMute(a);this._updateVolume(this.options.volume);this._trigger(b.jPlayer.event.volumechange)},
mute:function(a){a=a===h?!0:!!a;this._muted(a)},unmute:function(a){a=a===h?!0:!!a;this._muted(!a)},_updateMute:function(a){this.css.jq.mute.length&&this.css.jq.unmute.length&&(a?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(a){a=this._limitValue(a,0,1);this.options.volume=a;this.html.used&&this._html_volume(a);this.flash.used&&this._flash_volume(a);this._updateVolume(a);this._trigger(b.jPlayer.event.volumechange)},volumeBar:function(a){if(!this.options.muted&&
this.css.jq.volumeBar.length){var c=this.css.jq.volumeBar.offset(),a=a.pageX-c.left,c=this.css.jq.volumeBar.width();this.volume(a/c)}},volumeBarValue:function(a){this.volumeBar(a)},_updateVolume:function(a){a=this.options.muted?0:a;this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.width(a*100+"%")},_volumeFix:function(a){var c=0.001*Math.random();return a+(a<0.5?c:-c)},_cssSelectorAncestor:function(a){var c=this;this.options.cssSelectorAncestor=a;this._removeUiClass();this.ancestorJq=
a?b(a):[];a&&this.ancestorJq.length!==1&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:a,message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT});this._addUiClass();b.each(this.options.cssSelector,function(a,b){c._cssSelector(a,b)})},_cssSelector:function(a,c){var d=this;typeof c==="string"?b.jPlayer.prototype.options.cssSelector[a]?(this.css.jq[a]&&this.css.jq[a].length&&this.css.jq[a].unbind(".jPlayer"),
this.options.cssSelector[a]=c,this.css.cs[a]=this.options.cssSelectorAncestor+" "+c,this.css.jq[a]=c?b(this.css.cs[a]):[],this.css.jq[a].length&&this.css.jq[a].bind("click.jPlayer",function(c){d[a](c);b(this).blur();return!1}),c&&this.css.jq[a].length!==1&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[a],message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[a].length+" found for "+a+" method.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_METHOD,
context:a,message:b.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:b.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_STRING,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:b.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(a){if(this.css.jq.seekBar){var c=this.css.jq.seekBar.offset(),a=a.pageX-c.left,c=this.css.jq.seekBar.width();this.playHead(100*a/c)}},playBar:function(a){this.seekBar(a)},currentTime:function(){},duration:function(){},
option:function(a,c){var d=a;if(arguments.length===0)return b.extend(!0,{},this.options);if(typeof a==="string"){var e=a.split(".");if(c===h){for(var g=b.extend(!0,{},this.options),f=0;f<e.length;f++)if(g[e[f]]!==h)g=g[e[f]];else return this._warning({type:b.jPlayer.warning.OPTION_KEY,context:a,message:b.jPlayer.warningMsg.OPTION_KEY,hint:b.jPlayer.warningHint.OPTION_KEY}),h;return g}g=d={};for(f=0;f<e.length;f++)f<e.length-1?(g[e[f]]={},g=g[e[f]]):g[e[f]]=c}this._setOptions(d);return this},_setOptions:function(a){var c=
this;b.each(a,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,c){var d=this;switch(a){case "volume":this.volume(c);break;case "muted":this._muted(c);break;case "cssSelectorAncestor":this._cssSelectorAncestor(c);break;case "cssSelector":b.each(c,function(a,c){d._cssSelector(a,c)});break;case "fullScreen":this.options[a]!==c&&(this._removeUiClass(),this.options[a]=c,this._refreshSize());break;case "size":!this.options.fullScreen&&this.options[a].cssClass!==c.cssClass&&this._removeUiClass();
this.options[a]=b.extend({},this.options[a],c);this._refreshSize();break;case "sizeFull":this.options.fullScreen&&this.options[a].cssClass!==c.cssClass&&this._removeUiClass();this.options[a]=b.extend({},this.options[a],c);this._refreshSize();break;case "emulateHtml":this.options[a]!==c&&((this.options[a]=c)?this._emulateHtmlBridge():this._destroyHtmlBridge())}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize()},_setSize:function(){this.options.fullScreen?(this.status.width=
this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},
_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});this.status.waitForPlay||(this.html.active&&this.status.video?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.flash.active&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height}))},fullScreen:function(){this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_html_initMedia:function(){this.status.srcSet&&
!this.status.waitForPlay&&this.htmlElement.media.pause();this.options.preload!=="none"&&this._html_load();this._trigger(b.jPlayer.event.timeupdate)},_html_setAudio:function(a){var c=this;b.each(this.formats,function(b,e){if(c.html.support[e]&&a[e])return c.status.src=a[e],c.status.format[e]=!0,c.status.formatType=e,!1});this.htmlElement.media=this.htmlElement.audio;this._html_initMedia()},_html_setVideo:function(a){var c=this;b.each(this.formats,function(b,e){if(c.html.support[e]&&a[e])return c.status.src=
a[e],c.status.format[e]=!0,c.status.formatType=e,!1});this.htmlElement.media=this.htmlElement.video;this._html_initMedia()},_html_clearMedia:function(){if(this.htmlElement.media)this.htmlElement.media.id===this.internal.video.id&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause(),this.htmlElement.media.src="",this.htmlElement.media.load()},_html_load:function(){if(this.status.waitForLoad)this.status.waitForLoad=!1,this.htmlElement.media.src=this.status.src,this.htmlElement.media.load();
clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(a){var c=this;this._html_load();this.htmlElement.media.play();if(!isNaN(a))try{this.htmlElement.media.currentTime=a}catch(b){this.internal.htmlDlyCmdId=setTimeout(function(){c.play(a)},100);return}this._html_checkWaitForPlay()},_html_pause:function(a){var c=this;a>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId);this.htmlElement.media.pause();if(!isNaN(a))try{this.htmlElement.media.currentTime=a}catch(b){this.internal.htmlDlyCmdId=
setTimeout(function(){c.pause(a)},100);return}a>0&&this._html_checkWaitForPlay()},_html_playHead:function(a){var c=this;this._html_load();try{if(typeof this.htmlElement.media.seekable==="object"&&this.htmlElement.media.seekable.length>0)this.htmlElement.media.currentTime=a*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100;else if(this.htmlElement.media.duration>0&&!isNaN(this.htmlElement.media.duration))this.htmlElement.media.currentTime=a*this.htmlElement.media.duration/
100;else throw"e";}catch(b){this.internal.htmlDlyCmdId=setTimeout(function(){c.playHead(a)},100);return}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){if(this.status.waitForPlay)this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height}))},_html_volume:function(a){if(this.html.audio.available)this.htmlElement.audio.volume=
a;if(this.html.video.available)this.htmlElement.video.volume=a},_html_mute:function(a){if(this.html.audio.available)this.htmlElement.audio.muted=a;if(this.html.video.available)this.htmlElement.video.muted=a},_flash_setAudio:function(a){var c=this;try{if(b.each(this.formats,function(b,d){if(c.flash.support[d]&&a[d]){switch(d){case "m4a":case "fla":c._getMovie().fl_setAudio_m4a(a[d]);break;case "mp3":c._getMovie().fl_setAudio_mp3(a[d])}c.status.src=a[d];c.status.format[d]=!0;c.status.formatType=d;return!1}}),
this.options.preload==="auto")this._flash_load(),this.status.waitForLoad=!1}catch(d){this._flashError(d)}},_flash_setVideo:function(a){var c=this;try{if(b.each(this.formats,function(b,d){if(c.flash.support[d]&&a[d]){switch(d){case "m4v":case "flv":c._getMovie().fl_setVideo_m4v(a[d])}c.status.src=a[d];c.status.format[d]=!0;c.status.formatType=d;return!1}}),this.options.preload==="auto")this._flash_load(),this.status.waitForLoad=!1}catch(d){this._flashError(d)}},_flash_clearMedia:function(){this.internal.flash.jq.css({width:"0px",
height:"0px"});try{this._getMovie().fl_clearMedia()}catch(a){this._flashError(a)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(a){this._flashError(a)}this.status.waitForLoad=!1},_flash_play:function(a){try{this._getMovie().fl_play(a)}catch(b){this._flashError(b)}this.status.waitForLoad=!1;this._flash_checkWaitForPlay()},_flash_pause:function(a){try{this._getMovie().fl_pause(a)}catch(b){this._flashError(b)}if(a>0)this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_playHead:function(a){try{this._getMovie().fl_play_head(a)}catch(b){this._flashError(b)}this.status.waitForLoad||
this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay)this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height}))},_flash_volume:function(a){try{this._getMovie().fl_volume(a)}catch(b){this._flashError(b)}},_flash_mute:function(a){try{this._getMovie().fl_mute(a)}catch(b){this._flashError(b)}},_getMovie:function(){return document[this.internal.flash.id]},
_checkForFlash:function(a){var b=!1,d;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a),b=!0}catch(e){}else navigator.plugins&&navigator.mimeTypes.length>0&&(d=navigator.plugins["Shockwave Flash"])&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=a&&(b=!0);return b},_validString:function(a){return a&&typeof a==="string"},_limitValue:function(a,b,d){return a<b?b:a>d?d:a},_urlNotSetError:function(a){this._error({type:b.jPlayer.error.URL_NOT_SET,
context:a,message:b.jPlayer.errorMsg.URL_NOT_SET,hint:b.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(a){this._error({type:b.jPlayer.error.FLASH,context:this.internal.flash.swf,message:b.jPlayer.errorMsg.FLASH+a.message,hint:b.jPlayer.errorHint.FLASH})},_error:function(a){this._trigger(b.jPlayer.event.error,a);this.options.errorAlerts&&this._alert("Error!"+(a.message?"\n\n"+a.message:"")+(a.hint?"\n\n"+a.hint:"")+"\n\nContext: "+a.context)},_warning:function(a){this._trigger(b.jPlayer.event.warning,
h,a);this.options.warningAlerts&&this._alert("Warning!"+(a.message?"\n\n"+a.message:"")+(a.hint?"\n\n"+a.hint:"")+"\n\nContext: "+a.context)},_alert:function(a){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+a)},_emulateHtmlBridge:function(){var a=this;b.each(b.jPlayer.emulateMethods.split(/\s+/g),function(b,d){a.internal.domNode[d]=function(b){a[d](b)}});b.each(b.jPlayer.event,function(c,d){var e=!0;b.each(b.jPlayer.reservedEvent.split(/\s+/g),function(a,b){if(b===c)return e=
!1});e&&a.element.bind(d+".jPlayer.jPlayerHtml",function(){a._emulateHtmlUpdate();var b=document.createEvent("Event");b.initEvent(c,!1,!0);a.internal.domNode.dispatchEvent(b)})})},_emulateHtmlUpdate:function(){var a=this;b.each(b.jPlayer.emulateStatus.split(/\s+/g),function(b,d){a.internal.domNode[d]=a.status[d]});b.each(b.jPlayer.emulateOptions.split(/\s+/g),function(b,d){a.internal.domNode[d]=a.options[d]})},_destroyHtmlBridge:function(){this.element.unbind(".jPlayerHtml");b.each((b.jPlayer.emulateMethods+
" "+b.jPlayer.emulateStatus+" "+b.jPlayer.emulateOptions).split(/\s+/g),function(a,b){delete self.internal.domNode[b]})}};b.jPlayer.error={FLASH:"e_flash",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};b.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",
NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+b.jPlayer.prototype.version.script+" needs Jplayer.swf version "+b.jPlayer.prototype.version.needFlash+" but found "};b.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",
NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};b.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};b.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",
CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};b.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})(jQuery);

/**
 * Sets the type of metadata to use. Metadata is encoded in JSON, and each property
 * in the JSON will become a property of the element itself.
 *
 * There are three supported types of metadata storage:
 *
 *   attr:  Inside an attribute. The name parameter indicates *which* attribute.
 *          
 *   class: Inside the class attribute, wrapped in curly braces: { }
 *   
 *   elem:  Inside a child element (e.g. a script tag). The
 *          name parameter indicates *which* element.
 *          
 * The metadata for an element is loaded the first time the element is accessed via jQuery.
 *
 * As a result, you can define the metadata type, use $(expr) to load the metadata into the elements
 * matched by expr, then redefine the metadata type and run another $(expr) for other elements.
 * 
 * @name $.metadata.setType
 *
 * @example <p id="one" class="some_class {item_id: 1, item_label: 'Label'}">This is a p</p>
 * @before $.metadata.setType("class")
 * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
 * @desc Reads metadata from the class attribute
 * 
 * @example <p id="one" class="some_class" data="{item_id: 1, item_label: 'Label'}">This is a p</p>
 * @before $.metadata.setType("attr", "data")
 * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
 * @desc Reads metadata from a "data" attribute
 * 
 * @example <p id="one" class="some_class"><script>{item_id: 1, item_label: 'Label'}</script>This is a p</p>
 * @before $.metadata.setType("elem", "script")
 * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
 * @desc Reads metadata from a nested script element
 * 
 * @param String type The encoding type
 * @param String name The name of the attribute to be used to get metadata (optional)
 * @cat Plugins/Metadata
 * @descr Sets the type of encoding to be used when loading metadata for the first time
 * @type undefined
 * @see metadata()
 */

(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata"}var data=$.data(elem,settings.single);if(data){return data}data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return undefined}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}if(data.indexOf("{")<0){data="{"+data+"}"}data=eval("("+data+")");$.data(elem,settings.single,data);return data}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);

/*
 * ******************************************************************************
 *  jquery.mb.components
 *  file: jquery.mb.miniPlayer.js
 *
 *  Copyright (c) 2001-2013. Matteo Bicocchi (Pupunzi);
 *  Open lab srl, Firenze - Italy
 *  email: matteo@open-lab.com
 *  site: 	http://pupunzi.com
 *  blog:	http://pupunzi.open-lab.com
 * 	http://open-lab.com
 *
 *  Licences: MIT, GPL
 *  http://www.opensource.org/licenses/mit-license.php
 *  http://www.gnu.org/licenses/gpl.html
 *
 *  last modified: 17/01/13 23.13
 *  *****************************************************************************
 */

/*Browser detection patch*/
(function(){if(!(8>jQuery.fn.jquery.split(".")[1])){jQuery.browser={};jQuery.browser.mozilla=!1;jQuery.browser.webkit=!1;jQuery.browser.opera=!1;jQuery.browser.msie=!1;var e=navigator.userAgent;jQuery.browser.name=navigator.appName;jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion);jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var f,d;if(-1!=(d=e.indexOf("Opera"))){if(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=e.substring(d+6),-1!=(d=e.indexOf("Version"))){jQuery.browser.fullVersion=e.substring(d+8)}}else{if(-1!=(d=e.indexOf("MSIE"))){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=e.substring(d+5)}else{if(-1!=(d=e.indexOf("Chrome"))){jQuery.browser.webkit=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=e.substring(d+7)}else{if(-1!=(d=e.indexOf("Safari"))){if(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=e.substring(d+7),-1!=(d=e.indexOf("Version"))){jQuery.browser.fullVersion=e.substring(d+8)}}else{if(-1!=(d=e.indexOf("Firefox"))){jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=e.substring(d+8)}else{if((f=e.lastIndexOf(" ")+1)<(d=e.lastIndexOf("/"))){jQuery.browser.name=e.substring(f,d),jQuery.browser.fullVersion=e.substring(d+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName)}}}}}}if(-1!=(e=jQuery.browser.fullVersion.indexOf(";"))){jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,e)}if(-1!=(e=jQuery.browser.fullVersion.indexOf(" "))){jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,e)}jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10);isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10));jQuery.browser.version=jQuery.browser.majorVersion}})(jQuery);(function(a){a.mbMiniPlayer={author:"Matteo Bicocchi",version:"1.6.1",name:"mb.miniPlayer",icon:{play:"P",pause:"p",stop:"S",rewind:"R",volume:"Vm",volumeMute:"Vm"},defaults:{width:150,skin:"black",volume:0.5,autoplay:false,playAlone:true,inLine:false,volumeLevels:8,showVolumeLevel:true,showTime:true,showRew:true,addShadow:true,downloadable:false,swfPath:"inc/",onPlay:function(){},onEnd:function(){}},buildPlayer:function(b){this.each(function(o){var r=a(this);r.hide();var h=r.attr("href");var k="mp_"+(r.attr("id")?r.attr("id"):new Date().getTime());var B=r.html();var d=r.attr("href").replace(".mp3","").split("/");d=d[d.length-1];var z=a("<div/>").attr({id:"JPL_"+k});var u=z.get(0);u.opt={};a.extend(u.opt,a.mbMiniPlayer.defaults,b);u.opt.isIE9=a.browser.msie&&a.browser.version==9;if(a.metadata){a.metadata.setType("class");a.extend(u.opt,r.metadata())}if(u.opt.width.toString().indexOf("%")>=0){var j=r.parent().outerWidth();u.opt.width=(j*(parseFloat(u.opt.width)/2))/100}if(navigator&&navigator.platform&&navigator.platform.match(/^(iPad|iPod|iPhone)$/)){u.opt.showVolumeLevel=false;u.opt.autoplay=false;u.opt.downloadable=false}if(!u.opt.mp3){u.opt.mp3=h}var t=u.opt.skin;var q=a("<div/>").attr({id:k,isPlaying:false}).addClass("mbMiniPlayer").addClass(t);if(u.opt.inLine){q.css({display:"inline-block",verticalAlign:"middle"})}if(u.opt.addShadow){q.addClass("shadow")}var c="<table cellpadding='0' cellspacing='0' border='0'><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr></table>";a("body").append(z);r.after(q);q.html(c);var g=a("<p/>").addClass("map_download").css({display:"inline-block",cursor:"pointer"}).html("d").on("click",function(){window.open(u.opt.mp3,"map_download")}).attr("title","download: "+d);if(u.opt.downloadable){q.append(g)}var f=q.find("td").unselectable();var x=a("<span/>").addClass("volume").html(a.mbMiniPlayer.icon.volume);var n=a("<span/>").addClass("volumeLevel").html("").hide();for(var v=0;v<u.opt.volumeLevels;v++){n.append("<a/>")}var e=a("<span/>").addClass("play").html(a.mbMiniPlayer.icon.play);var A=a("<span/>").addClass("rew").html(a.mbMiniPlayer.icon.rewind).hide();var y=a("<span/>").addClass("time").html("").hide();var w=a("<div/>").addClass("controls");var s=a("<span/>").addClass("title").html(B);var p=a("<div/>").addClass("jp-progress");var l=a("<div/>").addClass("jp-load-bar").attr("id","loadBar_"+k);var m=a("<div/>").addClass("jp-play-bar").attr("id","playBar_"+k);p.append(l);l.append(m);w.append(s).append(p);f.eq(0).append(x);f.eq(1).append(n);f.eq(2).addClass("controlsBar").append(w);f.eq(3).append(y);f.eq(4).append(A);f.eq(5).append(e);if(a.browser.safari){f.eq(1).hide();f.eq(3).hide();f.eq(4).hide();p.css({top:-4})}z.jPlayer({ready:function(){var D=a(this);D.jPlayer("setMedia",{mp3:u.opt.mp3,oga:u.opt.ogg});e.on("click",function(){if(!u.isOpen){u.isOpen=true;if(u.opt.playAlone){a("[isPlaying=true]").find(".play").click()}var E=a.browser.msie&&a.browser.version<9;a(this).html(a.mbMiniPlayer.icon.pause);w.css({display:"block",height:20}).animate({width:u.opt.width},500);if(u.opt.showRew){if(E){A.show().css({width:20,display:"block"})}else{A.show().animate({width:20},100)}if(a.browser.safari){A.parent().css({width:20}).show()}}if(u.opt.showTime){if(E){y.show().css({width:30,display:"block"})}else{y.animate({width:30},100).show()}if(a.browser.safari){y.parent().css({width:30}).show()}}if(u.opt.showVolumeLevel){if(E){n.show().css({width:40,display:"block"})}else{n.show().animate({width:40},100,function(){if(a.browser.safari){n.parent().animate({width:40}).show()}})}}q.attr("isPlaying","true");D.jPlayer("load");setTimeout(function(){D.jPlayer("play")},1000);if(typeof u.opt.onPlay=="function"){u.opt.onPlay(o)}}else{u.isOpen=false;a(this).html(a.mbMiniPlayer.icon.play);w.animate({width:1},500,function(){a(this).css({display:"none"})});if(u.opt.showRew){A.animate({width:1},100,function(){a(this).css({display:"none"})});if(a.browser.safari){A.parent().hide()}}if(u.opt.showTime){y.animate({width:1},100,function(){a(this).css({display:"none"})});if(a.browser.safari){y.parent().hide()}}if(u.opt.showVolumeLevel){n.animate({width:1},100,function(){a(this).css({display:"none"})});if(a.browser.safari){n.parent().hide()}}q.attr("isPlaying","false");D.jPlayer("pause")}}).hover(function(){a(this).css({opacity:0.8})},function(){a(this).css({opacity:1})});x.click(function(){if(a(this).hasClass("mute")){a(this).removeClass("mute");a(this).html(a.mbMiniPlayer.icon.volume);D.jPlayer("volume",u.opt.volume)}else{a(this).addClass("mute");a(this).html(a.mbMiniPlayer.icon.volumeMute);D.jPlayer("volume",0)}}).hover(function(){a(this).css({opacity:0.8})},function(){a(this).css({opacity:1})});A.click(function(){D.jPlayer("playHead",0)}).hover(function(){a(this).css({opacity:0.8})},function(){a(this).css({opacity:1})});var C=u.opt.volumeLevels;var i=1/C;n.find("a").each(function(E){a(this).css({opacity:0.3,height:3+2*(E+1),width:Math.floor(35/C)});a(this).click(function(){var F=(E+1)*i;D.jPlayer("volume",F);if(E==0){D.jPlayer("volume",0.1)}x.removeClass("mute");u.opt.volume=F})});if(u.opt.autoplay&&((u.opt.playAlone&&a("[isPlaying=true]").length==0)||!u.opt.playAlone)){e.click()}},customCssIds:true,volume:u.opt.volume,oggSupport:u.opt.ogg?true:false,swfPath:u.opt.swfPath,preload:"metadata",cssSelector:{playBar:"#playBar_"+k,seekBar:"#loadBar_"+k}}).on(a.jPlayer.event.play,function(i){}).on(a.jPlayer.event.ended,function(){if(u.opt.loop){z.jPlayer("play")}else{e.click()}if(typeof u.opt.onEnd=="function"){u.opt.onEnd(o)}}).on(a.jPlayer.event.timeupdate,function(G){l.css({width:((u.opt.width-5)*G.jPlayer.status.seekPercent)/100});m.css({width:((u.opt.width-5)*G.jPlayer.status.currentTime)/G.jPlayer.status.duration});var E=u.opt.volume;var C=1/n.find("a").length;var F=Math.floor(E/C)-1;if(E<0.1&&E>0){F=0}n.find("a").css({opacity:0.2}).removeClass("sel");for(var D=0;D<=F;D++){n.find("a").eq(D).css({opacity:0.8}).addClass("sel")}y.html(a.jPlayer.convertTime(G.jPlayer.status.currentTime)).attr("title",a.jPlayer.convertTime(G.jPlayer.status.duration))})})},changeFile:function(d,h,f){var c=a(this).attr("id");var b=a("#mp_"+c);var e=a("#JPL_"+c);var g=b.find(".title");if(!h){h=""}if(!f){f="audio file"}e.jPlayer("setMedia",{mp3:d,oga:h});if(b.attr("isPlaying")=="true"){e.jPlayer("play")}g.html(f)},play:function(){return this.each(function(){var c=a(this).attr("id");var b=a("#mp_"+c);if(b.attr("isplaying")=="false"){b.find(".play").click()}})},stop:function(){return this.each(function(){var c=a(this).attr("id");var b=a("#mp_"+c);if(b.attr("isplaying")=="true"){b.find(".play").click()}})},destroy:function(){return this.each(function(){var c=this.attr("id");var b=a("#mp_"+c);b.remove()})},getPlayer:function(){var b=this.attr("id");return a("#mp_"+b)}};a.fn.unselectable=function(){this.each(function(){a(this).css({"-moz-user-select":"none","-khtml-user-select":"none","user-select":"none"}).attr("unselectable","on")});return a(this)};a.fn.mb_miniPlayer=a.mbMiniPlayer.buildPlayer;a.fn.mb_miniPlayer_changeFile=a.mbMiniPlayer.changeFile;a.fn.mb_miniPlayer_play=a.mbMiniPlayer.play;a.fn.mb_miniPlayer_stop=a.mbMiniPlayer.stop;a.fn.mb_miniPlayer_destroy=a.mbMiniPlayer.destroy;a.fn.mb_miniPlayer_getPlayer=a.mbMiniPlayer.getPlayer;String.prototype.asId=function(){return this.replace(/[^a-zA-Z0-9_]+/g,"")}})(jQuery);


//jQuery(document).ready(function(){
//jQuery.mbMiniPlayer.defaults.swfPath = "files/symaudiomp3/";
//jQuery("a[href$=mp3],a[href$=Mp3],a[href$=MP3]").each(function(){var a={width:240,inLine:false};a.skin=jQuery(this).attr("class")?jQuery(this).attr("class"):"black";jQuery(this).mb_miniPlayer(a)})});